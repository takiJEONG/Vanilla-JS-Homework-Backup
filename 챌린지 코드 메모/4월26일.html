4월 26일 챌린지

#3.6 CSS in JaveScript

사용했었던 event listener들을 모두 지우고 시작할거다. 
이제 handleTitleClick function에 초점을 맞출 것이기 때문이다.

이번에할 것은 유저가 title을 click했을 때 title을 파란색으로 칠해주는 것이다.
근데 한번 더 누르면 title의 색깔을 tomato색깔로 변경하려고 한다.
다시 클릭하면 파란색으로 그 다음엔 다시 tomato로 말이다.
Blue, tomato,blue,tomato 이런식으로..
그 말은 무언가가 true인지 확인해야한다는 뜻이다.

￼
function에서 첫번째 color를 획득할 수 있다.
두번째, h1의 색상을 설정할 수 있다.
세번째, h1	의 색상을 다시 가지고 온다.
￼
다시,
검사했을때 만약 h1.style.color가 blue라면 이걸 tomato로 변경해주세요라고 하는것이다.
그리고 만약 h1.style.color가 blue 색깔이 아니라면, blue로 변경해주세요라고 하는거다.
이건 굉장히 간단하다. If활용.

￼
===은 값이 일치함을 확인하기 위한 것이다. h1의 color값이 blue와 일치하는지 확인한다.
if에서 하는 일은 이 h1dml color를 tomato로 바꿔주는 것이다.

if다음은 필수적인건 아니지만, else를 사용해줘야 한다.
if문이 true라면 이걸 tomato 색으로 바꿀 것이다.
false라면 blue로 바꿀 것이다.
실행시켜보면 
￼
￼
누를때마다 바뀌는걸 볼 수 있음.

￼
하지만 우리는 코드를 개선해서 더 깔끔하게 만들 수 있다.

h1.style.color.를 이렇게 많이 호출하기 보다는 먼저 이 color 현재 상태 저장하는걸 배워보자.

￼
이게 첫번째.
￼
그리고 h1 두줄도 바꾸자.
￼
NewColor는 아무것도 없는 비어있는 let 변수이다.
기억할지 모르겠지만 const는 한번 설정하면 고정, let은 업데이트가 가능하다고 했었다.
만약 currentColor가 blue라면, newColor는 tomato로 변경해 줄거다.
그리고 else라면 newColor는 blue가 되어야겠지.

￼
newColor를 변경해봤자, 우리의 h1의 color엔 아무 영향도 미치지 않는다.

￼
최종 코드다.
이러면 읽을때 훨씬 보기 좋다. 우리가 뭘 할라고 하는지, 우리가 왜 color를 변경하려고 하는지 이해할 수 있다.
우리가 배운 것의 모든것들, const라던가 let이라던가 if,else, 일치하는지 비교 등등…

동작시켜보면 위에서 짰던거랑 똑같이 작동하는 것을 볼 수 있다.
여기서 중요한 점 하나.
element의 style을 JS에서 변경하는걸 프로그래머들은 별로 좋아하지 않는다.
왜냐면 다른 언어들을 섞는걸 별로 선호하지 않기 때문이다.
CSS는 JS파일에서도 할 수 있지만 지금 작업들을 css파일에서 하는걸 보통 선호한다.
Step 1. element를 찾아라
Step 2. event를 listen 해라
Step 3. 그 event에 반응해라
반응이란건 뭔가 보여주거나 감추거나 색깔을 바꾼다는 것등과 같다.

#3.7 CSS JavaScript Part II

우린 application의 스타일링을 더 잘할 수 있다고 했다.
지금은 style이 JS에서 변경되고 있는데 이건 별로 스마트하지 않다.
일을 할때는 적절한 도구를 사용하는것이 맞는 것이고 style 작업에 적합한 도구는 CSS이기 때문이다.
animation에 적합한 도구는 JS.
JS와 HTML,CSS 간의 춤사위가 뭔지에 대해 배워본다. (Application build할 때)

우린 JS에 색깔 이름을 사용하지 않을거고 style 이름도 적지 않을 것이다.
왜냐면 style은 이곳에 css에 작성하는게 더 좋기 때문이다.
Index.html 파일은 CSS 문서와 JS문서를 import하고 있다.

css파일에서 html에 있는 h1을 가져다가 뭘 할거냐면 h1의 색의 기본값을 파란색으로 지정해줄 것이다.
￼
￼
css에 의해 h1이 색이 변한것을 확인할 수 있다.
추가로 active란 class를 생성해 줄 것이다. 
￼
이제 이 class를 어떤 element에 지정해주면 어떤 element던지, h1이던, span이던간에 tomato 색을 가지게 된다.

이를 이용해 JS에서 하고 싶은건, h1에 active class를 전달해주는 것이다.
￼
JS에서 이렇게 간단하게 지정해줄 수 있다.
물론 css에서 작성했던 스펠 그대로 정확히 적어주어야 한다.

이로인해 JS가 CSS에게 직접 대화하지 않게 되었다.
JS에선 HTML을 변경할거고, CSS는 HTML을 바라보게 되었다.

이제 브라우저로가서 클릭해보면 파란색 h1이 토마토색으로 바뀌는 것을 확인할 수 있다.

지금 했던 방법이 더 좋은 방법이라고 할 수 있다.
더 적은 JS코드로 동일한 결과를 얻었기 때문이다.
그리고 당연히 덜 헷갈린다.

이거보다 더 해줘야할건 토마토색으로 바뀌고 나서 다시한번 더 클릭했을때 h1 className을 없애는 것이다.
즉 class가 없는 상태. 파란색으로 다시 돌리고 싶은 것이다. <h1 class>Click me! </h1>

다시 상기해보면 저 코드에서 h1.className은 getter이면서 setter역할을 수행하고 있다.
만약 console.log로 h1.className을 출력한다면 우리가 얻는 값은 className의 현재값이다.
이 경우에는, h1에 click하게되면 아무것도 출력이 안된다. (당연히)
하지만 h1에 className을 추가 해준다면 click을 다시하게되면 className을 얻어올 수 있다.

우린 현재의 class를 얻어올 수 있지만, class를 변경할 수도 있다.
예를들어보면 if문을 사용해서 if(h1.className);
만약 h1의 class name이 active라면 이걸 제거하고 싶은거니까 h1.className을 비워줄거다.
하지만 만약 h1의 className이 active가 아니라면 이건 else다.
=부호가 3개라면, className이 active와 같은지 확인하는 것이고
￼
1개라면 해당 값을 “” 값으로 변경해주는 것이다.
￼
￼
class이름이 생겼다 없어졌다 하는 모습을 볼 수 있음

이제 css를 사용하고 있기 때문에 이렇게도 할 수 있다
￼
눌렀을때 색이 스르륵 바뀌게 하는 효과

아직도 코드에서 개선할 요소들이 있다. 코드를 깔끔하게 하는 방법은 다음 챕터에서 다루게 될거고
다른 방법은 지금 다룰건데
JS 코드를 부면 string을 2번 사용하고 있다. 지금은 문제가 없지만 이게 error의 위험이 있다.
active란 녀석은 우리가 동작을 위해 지어낸거다. Active 대신 clicked라고 지어줄 수도 있다.
변경해주자.
이 모든게 제대로 동작하려면, clicked라는 단어가 정확하게 사용되어야 한다. 
이건 class name일 뿐이고 아무도 이걸 확인해보지 않는다. 그저 class name일 뿐이니까.
“Clicked”라는 class name은 개발자가 이렇게 적겠다고 선택한 raw value이다.
하지만 오타 실수를 낼 수 있다. 한군데도 틀리면 안되는데..
그래서 raw string들을 사용하는 대신
￼
이렇게 적어서 error가 발생할 수 있는 부분을 축소시킬 수 있다.
이제 우리는 css에서 복붙만 하면 된다.
이제 이 class를 사용하려면 변수가 생겼다.(clickedClass) 만약 이 변수를 적는데 실수를 한다면 JS가 콘솔에서 알려주게 된다.
이렇게 string을 변수에 저장해두면 나중에 발생하는 error의 근원을 빠르게 파악하는데 도움을 받을 수 있다.(매우 유용)
여기까지가 “코드를 깔끔하게 part.1”이라고 볼 수 있다.
근데 현재 우리 코드는 버그가 한가지 있다.
html에서 h1은 class가 없는 상태로 시작했는데, 만약 class가 있는 상태로 시작하면 어떻게 될까??
￼
￼
이렇게 적고 브라우저에서 검사해보면
h1이 sexy-font라는 class와 함께 시작하는걸 볼 수 있다.
하지만 JS를 보게 된다면 우리는 이 class name을 말 그대로 교체해버리는 것을 확인할 수 있다.
과거따윈 신경쓰지 않고 말이다.

￼
￼
이렇게.
당연히 아까 했었던거 클릭하면 바뀌는거 그건 아직 제대로 동작한다. 효과도 제대로 동작하고.
근데 최초의 class name이 없어져 버렸다.
sexy-font를 간직하고 싶은데 말이다.
그말인 즉슨, const clickedClass === “clicked”에 sexy-font를 추가해 줄 필요가 생겼다는 뜻이다.
이건 정말 좋지 않은 거다 다 일일히 업데이트 해줘야되니까 (변경점이  생긴다면)

우리가 정말 해줘야 하는건 JS로 모든 class name을 변경하지는 않는 것이다.


#3.8 CSS in JavaScript part III

이제 element에서 class name을 변경하고, 제고하고, 추가하는지에 대해 배웠다.
위에 다뤘던 버그는 우리가 만약 class name을 빈값 혹은 clickedClass로 바꾸면
우리는 아까 적었던 sexy-font class처럼 class를 잃게된다.

그래서 다른 방법을 배워보도록 하자. classList를 사용해서.
classList는 2가지 옵션이 있다. className과 classList.
classList는 말 그대로 이 class들의 목록으로 작업할 수 있게끔 허용해준다.
왜냐하면 className은  그냥 모든걸 교체해버린다. 이전 class들은 전혀 상관않고 말이다.
classList에선 이걸 조금 다르게 할 수 있다.
그 중 하나 constains라는 function.
이 function은 우리가 명시한 class가 HTML element의 class에 포함되어 있는지 말해준다는 것이다.
￼
이렇게 바꿔줄 수 있다.
여기서 우리가 할건 HTML element가 가지고 있는 또 하나의 요소를 사용하는 것이다.
설명을 보면 “element의 class 내용물을 조작하는 것을 허용한다”라고 되어있다.
이제 우리는 classList가 clicked를 포함하고 있는지만을 확인하면 되는 것이다.

remove를 살펴보자.
￼
이렇게 변경.
우리는 JS를 이용해서 JS가 특정한 class name만 변경하도록 했다.

완성코드
￼
￼
￼

우리가 했던 class name을 추가하고 제거하고 element가 class name을 포함하고 있는지 확인하고 있는거 등은 정말 흔한 것이다.
이건 개발자들이 항상 하고 있는 일들이고 JS로 작업을 하면 이 작업들을 엄청 많이 하게 될 것이다.
이런 이유 덕분에 우리 삶을 더 쉽게 해줄 function들이 있다.
그 function중 하나가 toggle function이다.
toggle은 매우 흥미로운 function이다.
Toggle function은 class name이 존재하는지 확인을 해준다.
만약 class name이 존재한다면 toggle은 class name을 제거할 것이다.
만약 class name이 존재하지 않는다면 toggle은 class name을 추가할 것이다.
기본적으로 toggle은 이 코드를 구현하는 것이다. 우리가 구사했던 if 코드 처럼
h1의 classList에 class name이 포함되어있다면 제거하고, 포함되지 않았다면 추가하고
￼
따라서 이 코드는 전부 제거될 수 있다. Toggle에 포함될 수 있다.
우리의 경우는 이 clicked를 한번만 사용하기 때문에 이렇게 적어주면 된다.
￼
string을 반복하는 순간, 그때가 constant를 생성할 순간이라고 생각하면 된다.
지금 적은 저 한줄의 코드로 이제까지 했던 여러줄의 코드를 동작시킬 수 있다.
실행시켜보자..
똑같이 작동한다.. 단 한줄의 코드로 말이다!

다시 정리해보면 toggle은 H1의 classList에 clicked class가 이미 있는지 확인해서
만약 있다면 toggle이 “clicked”를 제거해준다.
만약 h1의 classList에 clicked가 존재하지 않는다면 toggle은 clicked를 classList에 추가해준다.
버튼이 있는데 버튼을 누르면 불빛이 나오고, 다시 누르면 꺼지는것과 같이 말이다.
이게 toggle이 기본적으로 하는 일이다.
이제 우리는 CSS에 정의된 class name들로 HTML element에서 숨기고 표시하는 방법과 toggle을 사용하는 방법을 이해한 것이다.
toggle을 처음부터 보여줄 수도 있었지만 그러지 않은 이유는 재미가 없을테니까ㅋ
그래서 대신 className도 가르쳐주고 if, else, contains, add, remove등을 가르쳐준거다.

toggle은 토큰을 toggle한다. 토큰이 존재한다면 토큰을 제거하고 존재하지 않는다면 토큰을 추가한다.

