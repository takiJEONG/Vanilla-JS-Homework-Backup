4월25일 챌린지 Day3


#3.0 The Document Object

JS와 HTML이 서로 어떻게 작동하는지는 아직 보지 않았다.
지난 편까지 배웠던 개념은 파이썬에서도 똑같이 쓰일 것이다.
개념은 같은데 생긴 모양만 다르다.
이번엔 JS가 브라우저를 어떻게 움직이게 하는지 알아본다.
HTML은 접착제 같은 것이다. HTML이 JS를 가져오기 때문.
JS를 사용하는 이유는, HTML과 상호작용하기 위해서다.
즉, HTML의 Element들은 JS를 통해 변경하고 읽을 수 있다는 뜻이다.

가장 중요한 브라우저의 핵심 object
콘솔에 document를 쳐보면 정의되어 있는 것을 볼 수 있다.
여기에 HTML을 보여주고 있다.
Document는 브라우저에 이미 존재하는 object이다. 접근할 수 있는 HTML을 가리키는 객체.
console.dir(document)를 쳐보면 보다시피 그저 object일 뿐이라는걸 알 수 있다.
document는 많은 것들이 들어있는 object이다.
그 중 title을 보면 “Momentum”이라고 되어 있는걸 볼 수 있다.
왜냐면 title 항목은 HTML에 내가 정의한 항목이기 때문이다. JS에서 title을 정의한 적이 없다.
그러니 document가 HTML을 보여주는 것이라고 하는 것이다.
하지만 JS의 관점으로 보여주는 것이다. object로 보인다.
이게 중요한 이유는 JS에어 HTML document객체로부터 title을 가지고 올 수 있기 때문이다.
JS는 HTML에 접근하고 읽을 수 있게 설정되어 있다. JS는 HTML을 읽어오는 것이다. 
자동적으로 되는거니까 아무것도 해줄 필요 없다. 
브라오저가 HTML정보가 아주 많이 들어있는 document라는 object를 전달해주는 것이다.
콘솔에서 보여지는 것은 HTML코드를 JS관점에서 보고있는 것이다.

생각해보면 Object에서 properties를 가지고 올 수 있다. 값을 바꿀 수도 있다.
만약 document.title 항목을 바꾸면 어떻게 될까? 바꾸는대로 바뀐다.
따라서 JS에서 HTML을 읽어올 뿐만 아니라 변경할 수도 있다는 것을 알 수 있다.
JS는 이미 HTML에 연결되어 있다.
HTML에서 정보를 가져올 수 있다는 것과 JS코드에서 그 항목들을 볼 수 있다는 것을 배웠다.

document는 모든것의 시작이다. 왜냐하면 document는 web site를 의미하기 때문이다.


#3.1 HTML in JavaScript

이젠 특정한 뭔가를 가져오는걸 배울 것이다.
JS로 정보를 가지고 올 수 있는 방법은 document객체와 element를 가져오는 수많은 함수들을 이용하는 것이다.
이번에 배우는 것은 정말 많이 사용할 요소이다.
Document.getElementByID(“title)을 콘솔에 쳐보면 null이 나온다.
파일을 저장은 했지만 새로고침하지 않았기 때문이다.
새로고침하고 다시 쳐보면 JS로 id=“title”을 가진 <h1>태그를 가져오는걸 볼 수 있다.

console.log 대신 console.dir을 써보면 <h1>태그로 할 수 있는 목록들이 나온다.
￼
￼
요런식. <h1> title 하나에서 엄청 많은 것들을 가져올 수 있다.
여기서 특별히 중요한 것들은 textContent의 “Grab me!” 같은 거다.
￼
JS에서 HTML을 읽을 수 있다는 것을 알 수 있다.
￼
 다 배워야할 것들..
저 목록들은 HTML에 표현되어있는 것이다.
예를들어 autofocus: false
￼
html에서 <h1>태그에 autofucs를 적어주고 콘솔에서 확인해보면 true가 된걸 볼 수 있다.
그러니 이게 얼마나 강력하고 중요한건지 이해해야 한다.
지금 하고 있는건 HTML을 가지고 오는거지만, 그걸 JS에서 하고 있는 것이다.
JS는 이 HTML element를 가지고 오지만, HTML 자체를 보여주지는 않는다.
JS는 이 object를 보여준다. (JS에서 이 HTML을 표현하는 object를)

다음 class=“hello”를 추가해본다.
그러고 새로고침을 하고 class를 찾아보면 className이 hello인걸 확인할 수 있다.
￼
￼

이 내용으로 빗대어 우리가 className같은 항목들을 가지고 올 수 있다는 것을 의미한다.
또는 autofocus. 하지만 우리는 여기서 이것들을 바꿀 수도 있다.
예시로 innerText를 수정해보자. 현재 “Grab me!”라고 되어있는 상태.
￼
￼
이렇게 적고나면
￼
GOT YOU!가 나온걸 볼 수 있다. 
이 텍스트는 JS에 의해 변경됐다. HTML에 의해 변경된게 아님.
이게 가능한 이유는, h1태그에 id를 추가했기 때문이고
JS에서 element를 가져왔기 때문이다. (“Title”)
이 element는 getElementByld란 함수로 가져온거다.
이건 document의 함수이고 document는 HTML을 뜻한다.
확인할 수 있듯이, 우리는 JS에서 title이란 항목을 가져오고 있다.
JS에선 이 h1의 className을 확인할 수 있다.
또한 h1의 id도 확인할 수도 있다.
Console.log()로 원하는 것 모두 확인해 볼 수 있다.
￼
적고 콘솔 확인해보면
￼
title은 나오고 className은 보이는거 같이 비어있다.
하지만 h1태그에서 className을 추가하면
￼
추가된걸 볼 수 있다.

HTML이 있는데 쓸모가 없다. 우린 이 HTML을 JS에서 읽어올 수 있어야 한다.
그래서 이전 영상에서 HTML과 상호작용을 가능하게 해주고
브라우저에서 그냥 사용할 수 있는 object를 배웠다.
그리고 document의 함수 중엔 getElementByld라는 함수가 있다.
이 함수는 HTML에서 id를 통해 element를 찾아준다.
예시에선 title이란 id를 가지고 있다.
당연히 title이란 id를 가진 element가 없는 경우에는 아무것도 찾지 못한다.
element를 찾고나면, 그 HTML에서 뭐든지 바꿀 수 있다. 
예를 들어, element의 innerText를 바꿀 수도 있고
id와 className을 가져올 수도 있다.
그래서 여기 있는 HTML의 class인 hello가 새로고침하면 콘솔에 표시되는 것이다.
이게 어떻게 동작하는지 명확하게 이해하고 넘어가는것이 매우!매우! 중요하다.
모든 것들이 이 개념으로 시작하기 때문이다.
우린 HTML에서 항목들을 가지고와서 JS를 통해 항목들을 변경할 것이다.

예를 들어 Hello처럼 유저에게 Hello라고 말하려면
HTML에서 title을 가지고 와야하고 유저명도 가져와서 해당 title 안에 넣어줘야 한다.
기억해야할 것은 getElementByld라는 함수를 통해 id로 element를 가져올 수 있다는 것이다.
이 방법만 있는 것은 아니다. HTML에서 항목들을 가져오는 다른 방법도 있다.
우리가 배운것 중에 할 수 있는 것은 2가지이다.
1. document에서 항목들을 가지고 오는것.
2. 이 document 항목들을 변경하는 것.
변경하는걸 배우기 전에 먼저 JS에서 HTML을 가져올 수 있는 다른 방법들을 배울 것이다.

#3.2 Searching For Elements

이전 영상에서 함수를 통해 id로 class name을 가져오거나 추가하고, text를 가져오거나 변경하는 방법에 대해 배웠다.
id가 무엇이든 HTML에 정의된 id가 JS에서 같으면 상관 없다. 동일하지 않으면 못 가져온다.
대부분의 경우에는 id를 추가하지 않는다.
id는 사용하기 편리하지만 보통 className을 사용하거나 둘 다 사용하기 때문이다.
￼
H1을 이렇게 여러개 작성하고 새로고침 했을때
￼
이 오류가 뜨는 경우가 있다.
코드 내에 어떤 값이 null이라는 뜻이다. 아무것도 없는 것(null)의 innerText를 접근하려고 한거다.
title이 null이라는 말이다.
class에 hello만 있는데 title은 something으로 일치하지 않기 때문이다.
그러니까 title은 null인데 우린 지금 null의 innerText를 변경하려고 한 것이다.

이제 hello class를 사용하는 방법에 대해 배우도록 하자.
￼
HTML에 있는 class name과 같아야 한다.
￼

￼
이렇게 부르면 h1의 모든 elements가 나온다
￼

hellos로 뭘 가져올 수는 없다. 왜냐하면 이건 많은 h1이 들어있는 array이기 때문이다.
가끔 많은 element를 한번에 가지고 와야하는 경우가 있다.
그럴땐 getElementsByClassName()을 쓰면 된다.
그런데 대부분의 경우에는 class name을 모든 곳에 추가하지는 않을 것이다.
아마도 class name을 사용하고 또 다른 class name을 사용할 것이다.

이제 할려고하는 것은 h1을 가져오는 것이다.
￼
￼
이렇게 적어주면
￼
H1 하나만 적혀있는 array가 나왔다.
이것도 원하는 형태가 아니다. 아직도 title.으로 뭔가 할 수 없기 때문이다.
title이 title object가 아니고 array이기 때문이다.
element를 가져오는 방법중 가장 나은것은 querySlector이랑 querySlectorAll 이다.
querySelector는 element를 CSS 방식으로 검색할 수 있다.

hello란 class 내부에 있는 h1을 가지고 올 수 있다는 것을 의미한다.
그래서 우린 CSS slector를 사용해서 class hello를 찾고 그 안에 있는 h1을 가져와달라고 할 것이다.
￼
￼
잘 불러오는 것을 확인할 수 있다.
보다시피 이건 CSS처럼 쓸 수 있어서 더 효율성이 좋다.
()안에 .을 쓰고 hello를 썼다. 왜냐면 이건 CSS selector이기 때문이다.

이전에 getElementsByClassName() 함수를 사용할 때는 hello만 썼다.
getElementsByClassName(“hello)
왜냐면 JS에서 우리가 class name을 넘겨준다는 것을 알기 때문이다.
하지만 querySelector에는 hello가 class name이라는 것과 그 안의 h1을 명시해줘야 한다.
앞으로 계속 쓰게될 함수다.
남은 모든 영상에서 document.querySelector()을 사용할 것이다.
querySelector는 단 하나의 element를 return 해준다.
element를 찾을 수 있다면 다른 모든 element도 찾을 수 있어야 한다.

￼
￼
여러개가 있을때는 첫번째것만 나온다.
querySelector를 사용할 때, hello class 안에 h1이 많을 수도 있다.
조건에 맞으니까 다 가져올 수 있지만 실제로는 첫번째것만 가져왔다. 이게 중요하다. 첫번째거만 가져온다.
만약 3개 모두 가져오고 싶다면 querySelectorAll이라고 하면 된다.
querySelectorAll은 3개의 h1이 들어있는 array를 가져다 줄 것이다. (조건에 부합하는 모든 element)
H1:first-child 같이 사용할 수도 있다는 뜻.
￼

#3.3 Events

꼭 이해해야 할 것은 app.js가 있기 때문에 JS를 통해 HTML의 내용을 가져올 수 있다는 것이다.
우리가 app.js를 import하지 않았다면, 당연히 document는 여기 존재할 수도 없었다.
포인트는 document가 HTML이 app.js를 load하기 때문에 존재하는 것이라는 거다.
그 다음에 브라우저가 우리가 document에 접근할 수 있게 해준다.
매우 중요한 내용.

전 강의에서 JS의 두줄의 코드로 했던 것은 hello라는 class 내부의 h1을 가지고 오는 것이었다.
지난 강의들에선 HTML에서 뭔가를 가져오는 것들을 배웠다.
div나 h1같은tag name을 사용해서 검색하기도 했고, id를 가지고 검색하기도 했다.
Class name을 가지고 검색하기도 했다. 전부 다른 function을 이용해서 말이다.
배웠던 함수들 중에선 querySelector가 최고다. 왜냐면 앞서 나열한걸 모두 할 수 있기 때문이다.
예를 들어 hello란 class를 가진 element를 하나 가지고 올 수 있다.
섞어서 사용할 수도 있다. #id:first-child 이런식으로 말이다.
Class hello를 가진 div 내부의 first-child인 h1을 찾아오는 것. 이건 정말 강력한 것이다.
CSS selector를 전달할 수 있다는 거니까.
JS는 여기 element에 접근하게 해주는 것이다.
만약 element를 console.log로 출력해보면, 이런 결과를 얻게 된다. <h1>Hello</h1>
만약 이 element의 내부를 보고 싶다면 console.log대신 console.dir()을 사용하면 된다.
기본적으로 object로 표시한 element를 보여준다. 굉장히 많은 것들을 할 수 있다.
내부 목록들을 보면 on으로 시작하는 것들이 굉장히 많은것을 볼 수 있다.
￼
on들은 event다. 이번에 이것들에 대해 배워본다.

이 항목들이 전부 JS object라는 것을 이해하고 넘어가야 한다.
우리는 JS object 내부에 있는 property들의 값들을 변경할 수 있다고 배웠다.
특정 property들은 변경할 수가 없다.
바꿀 수 있는 것도 있지만, 몇가지는 JS가 이걸 도대체 왜 바꾸는거야?? 하는거다.

저기 중 가장 중요한건 “style”이다.
style은 대문짝만한 h1 objet 내부에 있는 object이다.
펼쳐보면 element의 style을 볼 수 있는데, JS형식으로 작성돼 있다.

하지만 JS에서 대부분 작업할 일은, event를 listen하는 것이다.
event란 예를 들어 클릭을 하면 그게 event다.
h1위로 마우스가 올라가도 event다.
만약 입력을 끝내거나, 이름을 적거나, enter를 누르는것 이런것들도 다 event다.
event는 wifi접속이 해제될 경우 이런것들도 event가 될 수 있다.
이 모든 event들을 JS는 listen할 수 있다.

배울 event는 click event다.
이론상 어디든지 클릭할 수 있다.
이제 우린 클릭을 listen 해볼거다.
title.addEventListener()를 작성한다.
얘는 말 그대로 event를 listen하는 것이다.
하지만 JS에 무슨 event를 listen하고 싶은지 알려줘야 한다.
왜냐하면 모든 event에 대해 알고싶은 것이 아니고 단 하나의 event만 알아보고싶기 때문이다.

￼
이 코드의 의미는 title element를 찾을 방법을 배웠고 찾아왔다.
그리고 eventListener를 생성했다. 여기서 click event를 llisten하고, 이 click event가 발생하면,
우리는 handleTitleClick이라는 function이 동작하길 원한다.
여기서 이 function을 실행하지 않게 하는 것이 굉장히 중요하다.
설명했듯이, function을 실행시키고 싶다면 handleTitleClick()이렇게 해줘야한다고 했다.
하지만 여기선 곧바로 실행시키고 싶지 않다.
원하는 것은, 이 function을 JS에 넘겨주고, 유저가 title을 클릭할 경우에 JS가 실행버튼을 대신 눌러주길 바라는 것이다.
즉, 내가 직접 실행버튼을 누르지 않고, JS에 이 function 이름을 넘겨줘서, 유저가 클릭할 경우에 유저가 title을 클릭할 경우에 JS가 실행버튼을 대신 눌러주는 것이다.
()괄호를 추가함으로써 실행버튼을 누를 수 있다는거 기억하나??
￼
title이 클릭될때마다 기록하는 것을 볼 수 있다.(listen)

이제 항상 이런 방식으로 사용할 것이다.
title이란 HTML element가 하나 있다고 가정하고
addEventListener를 호출하고, listen하고 싶은 event이름을 알려줄 것이다.
event를 찾는 방법은 나중에 알게 될 것이다.
그리고 이곳엔 event가 발생하면 호출할 function을 전달해주면 된다.
handleTitleClick에 괄호를 넣지 않는다는거 잘 체크해라. 중요.
우리는 실행시키길 원하지 않았다.
우리는 JS에 function만을 넘겨주고, 유저가 클릭할 경우 JS가 실행버튼을 대신 눌러주길 바라는 것이다.

영상에서 배운 것들을 종합해보자.
유저가 만약 title을 클릭하면
title.style.color = “blue”;라고 하고 동작시켜보면 클릭했을때 파란색으로 변하는걸 볼 수 있다.
예를 들어 우리는 이 title을 color를 가지고 올 수도 있고, 변경할 수도 있다는 것이다.

그리고 listen에 대해 배웠다.
유저들의 행동들을 Listen할 수 있다.
이 중 가장 기본적이고 이해하기 쉬운것은 바로 click event다.
Click event를 listen하기 위해서는 HTML element를 가져와서 addEventListener function을 실행시켜주면 되는데,
이곳에 어떤 event를 listen하고 싶은지 명시해줘야 한다.
모든 event를 listen하고 싶진 않으니까.
그리고 유저가 이 element에 해당 event를 했을때 어떤 함수를 실행 할지도 정해야한다.
그리고 여기서 이 function의 실행버튼을 눌러선 안되고.

#3.4 Events part II

listen하고 싶은 event를 찾는 가장 좋은 방법은 구글의 찾고싶은 element의 이름
예를 들어 h1 element를 MDN에 검색해보는 것이다.
당연히 이곳에서 HTML에 대한 설명을 해줄 것이다.
링크에 Web ApIs라는 문장이 포함된 페이지를 찾을 것이다.
이건 JS관점에서의 HTML Heading Element란 의미이기 때문이다.
만약 이걸 들여다보고싶지 않다면
console.dir을 통해 element를 console에 출력시켜준다.
그럼 엄청 많은 property를 출력해 줄거다.
사용 가능한 event는 여기서 찾을 수 있다.
Property 이름 앞에 on이 붙어있다면, 그게 바로 event listener이다.
event를 사용할 때는 예를들어 onabort가 있으면 abort로 사용해줘야 한다.
click도 마찬가지. onclick에서 click만.
이 말은 click event를 부여할 수도 있고, change event를 부여할 수도 있다.

특정한 event를 listen해볼거다.
마우스가 title위에 올라갈때, 클릭은 하지 않고 그냥 위에 위치할때 event.
mouseenter라고 불리는 event이다. 
Function 이름은 굳이 handtiteclick  이런식으로 짓지 않아도 된다. 어떻게 지어도 상관 없다.
하지만 뭘 하고 있는지 제대로 알기 위해 명확하게 짓는 것이 좋다.
그리고 이 function을 여기 addEventListener에게 전달해 줄 것이다.
테스트 해보면 JS가 두 event를 listen하고 있는 것을 볼 수 있다.

#3.5 More Events

event들은 그저 클릭,엔터, 리브 정도만 처리하는게 아니기 때문에 더 알 필요가 있다.

해볼라고 하는건 window의 interface 또는 object이다.
window는 브라우저 창을 의미한다.
우리가 할건 event 내부를 살펴보고, event를 listening하는 또다른 방법을 배워볼 것이다.
Event를 사용하는데 2가지 방법이 있다.

첫번째는 title.addEventListener()를 해주고, click을 넘겨주는 거
근데 title.onclick() 이런식으로 바꿀 수 있다.
title.addEventListener("click", handleTitleClick); 이거랑
title.onclick = handleTitleClick;이랑 같다.

이번엔 window의 event를 한번 listen해보자.
Device motion - 모바일이 움직이거나 할 때 발생하는 event
window는 document가 JS에서 기본적으로 제공되듯이 window도 기본적을 제공한다.
Resize-

￼
여기서 body가 중요하다. 
h1처럼 document 밑으로 가져올 순 없다.
만약 document.title을 호출하면, 가져와야할 title이 아닌 이 위에 있는 코드의 function 속에 있는 title을 가져올 것이다.
그러므로 title을 h1으로 다 바꿔주자. h1은 title이랑 다르니까.
코드를 맞게 작성 했다면 이제 event를 하나 더 listen하고 있고, resize event이다.
하지만 h1을 resize할 수는 없고, window를 resize 할 수는 있다.
이제 window element의 resize event를 listen하고 있고,
만약 이  event가 발생한다면 handleWindowResize가 실행될 거고,
이 handleWindowResize function은 body의 backgroundColor를 변경할 것이다.
전에 말했듯이 콘솔에서 body에 매우 쉽게 접근할 수 있다.
Body는 특별하기 때문에 콘솔에서 body를 호출할 수 있다.
￼
불러와보면 backgroundcolor가 tomato로 돼있는걸 볼 수 있다. 
콘솔에서 가져올 수 있는건 이게 다이다.
예를 들어 document.div 이런식으로는 가져오로 수 없다. 심지어 이건 존재하지도 않는거.
Document의 body, head, title 이런것들은 중요하기 때문에 이렇게 존재하는거고
나머지 element들은 querySelector나 getElementByld등으로 찾아와줘야 한다.

Wifi event에 대해 알아보자
이건 animation을 위한 것이다.
잠시 copy를 살펴보자. -해당 event는 유저가 copy 행위를 했을 때 발생한다.
￼
￼
이런식으로.
우린 copy event를 listen해서 이 event를 처리하는 것이다.
이건 h1에서 발생한 event가 아니고 window에서 발생한 event지만, 패턴은 똑같다.

element를 찾아서 event listener를 추가하고 event가 발생하면 반응을 해주는 것이다.

이번엔 우리가 wifi에 연결 돼있는지 브라우저가 알 수 있게하는 event에 대해 알아보자.
￼
￼

이렇게 되면 마우스 올리기 전 grab me
마우스 올리면 mose here!
떼면 gone!
복붙 행위하면 경고문
와이파이 끊기면 SOS 경고문
연결되면 ALL GOOD 창
이 나오게 하는 코드를 짠 것이다.