[5월 2일]

++ #6.0 Quotes

이러고 html에서도 import 하도록 했다.
object들은 string으로 된 명언을 가지고 있다. 그 뒤에 콤마가 오고 작가도 string으로 들어있다.
10개 적고 진행하자.

Momentum으로 가면 랜덤 배경화면이랑 랜덤 명언이 뜨는걸 볼 수 있는데 이번엔 이걸 해볼 예정이다.

html로 가서 div를 생성해주자. Id는 quote로 하고 그 내부에 span도 2개 만들자.
2개만 있으면 된다.1번span, 2번 span.
quotes.js에서 div랑 span들을 가져와야 한다.

JS에선 Array여야한다. 그냥 text가 아니다.
object형태로, quote에는 명언 text, author에도 text로 내용이 들어있는 것이다.

명언의 작가부터 나오게 해보자. 작가는 밑에 명언은 위에 나오도록 할거다.
현재 상태.

새로고침해도 콘솔에 오류는 없어야 한다.

이제 randomness(무작위성)에 대해 얘기해보도록 하자.
우리가 하고자 하는걸 기억해야 한다.
첫째, Array안에 있는 element에 어떻게 접근하느냐다.
일단 Array에 있는 첫번째 명언을 console.log 해보자.
첫번째 element를 가져오려면 1이 아니라 0을 써야하는거 까먹으면 안된다.

내 Array에 있는 첫번째 명언이 출력된걸 확인할 수 있다.
array의 길이에서 1을 빼야ㅑ 한다. 왜냐면 컴퓨터는 0부터 읽기 시작하기 때문이다. 10개니까 0,1,2,3,~9가 되는것이다.
또는 10-1로 마지막 element에 접근할 수 있다.

이제 function을 추가해서 진행해보자. 0부터 Array의 길이인 10사이 숫자들에 접근해야 한다. 
0부터 9까지의 숫자를 주는 function이 필요하다.

이걸 하기 위해선 Math module이 필요하다. JS에서 이미 load돼서 공짜로 제공되고 있다.
Math는 흥미로운 function들이 많은데, 그 중 하나는 random()이다.
랜덤은 0부터 1사이의 랜덤한 숫자를 제공한다.
Math.random()에 10을 곱하면 0에서 10사이의 숫자들을 얻을 수 있다.

문제는 보이는거처럼 뒤에 이상한 꼬리들이 붙어있다는 것이다.
이건 이 숫자가 Integer, 정수가 아니기 때문이다. 이건 소수점을 가지는 float이다.
우리는 딱 시작하는 부분만 필요하다.
이걸 없애기 위해선 3가지 function을 쓸 수 있는데, 그 중 하나는 round()이다.
round()가 하는건 예를 들어 1.1이 있다면 round()는 1으로 바꿔준다. 1.2 1.3 1.4도 1로 돌려준다. 1.5부터 1.8 등은 2를 돌려준다. 즉 반올림 해주는 셈

또 다른 하나는 ceil()이다. 얘가 하는건 숫자를 천장까지 높여주는거다. 1.1은 2가 된다. 1.0만이 1이될 수 있다. 1.01만 돼도 2를 반환한다. 즉 올림
또 다른건 floor()이다. 이름만 봐도 감이 오듯이 숫자를 바닥까지 내려주는거다. 1.9 1.9999도 1이 됨. 즉 내림

우리가 사용할건 floor()이다.
우리가 해야할 건 랜덤하게 얻은 숫자에 10을 곱해서 floor()를 사용하는 것이다.

[]이거 전부 숫자가 된다는거 명심해라.

잘 작동한다.
문제는 우리가 숫자 10을 hard coding했다는거다.
이건 우리가 10개의 명언들을 가지고 있을때만 동작하겠지?
그치만 우린 프로그래머다. 귀찮잖음.
우린 저 명언들을 더 적고싶지 않잖아
명언을 추가하면 여기 있는 이 숫자들에 대해서도 항상 기억해야하고.
그러니 Array가 얼마나 긴지 알아내는게 좋을것 같다.
다행히 그런 기능이 이미 있다.
[1,2,3,4,5] 이렇게 생긴 Array가 있을때 Array.length를 사용하면 Array의 길이를 반환해준다.

이렇게 작성해주면 끝
그럼 이걸 const todaysQuote에 저장하자.

이제 우리가 해야할 건 명언이랑 작가를 화면에 보이게 하는거 뿐이다.

quote에 innerText를 넣어주는데 todaysQuote가 quote랑 author를 가지고 있는거 알지?
그러니 todays quote의 quote를 넣어주고 그리고 나서 author를 넣어주자

요렇게!

++ #6.1 Background

이번엔 랜덤 백그라운드 이미지를 만들어보자.
이번엔 background.js라는 파일을 JS 폴더안에 만들어줫다.

사실 quotes.js랑 비슷한 부분이 정말 많다. 사실 거의 같다.

Array 생성. img폴더에 있는 이미지들이랑 이 images Array안의 이름이 같게만 해주면 된다.
폴더 안에 있는 이미지 이름들을 JS파일에서도 똑같이 쓴다는 것만 명심하자

먼저 랜덤 이미지를 가져와보자.
Math.floor(Math.random() * quotes.length)
이거 그대로 복붙

이렇게.

우리가 진짜로 해야하는건 이 이미지를 html에 실제로 추가하는 것이다.
지금까지 우리가 해온건 html에서부터 뭔가를 가져오는 거였다.
JS를 이용해서 뭔가를 가져왔었다. quotes.js의 경우에는 span을 가져왔고.
아직 JS에서 뭔가를 들어서 그걸 html에 추가하는건 해본적이 없다.
다시 말해 우린 항상 Html을 먼저 작성하고 JS에서 사용해서 작성한 html을 다뤄왔다.
한번도 JS에서 뭔가를 생성해서 그걸 html에 추가해본 적이 없었다.
그걸 해볼건데 쉬우니 따라해보자.

일단 목표부터 설정하자. 우리 목표는 이미지를 만드는거다.
예를들면 <img src=“img/0.jpeg”/> 이런건데 이걸 html에선 할 수 없다. 이미지를 추가하기 위해선 JS가 필요하다.
정리하자면 JS에서 이미지를 만들고 이걸 html에 추가해야한다.
보통 우리는 document.뒤에 querySelector()나 getElementById()를 사용했지 createElement()는 써본 적이 없다.
이걸 사용할거다. img라는 element를 생성해보자

console.log하면 이렇게 나온다.
지금 이걸 elements탭에서 보려고하면 어디에도 없다. 페이지에서 찾을 수가 없는거다.
소스도 써주자. src는 img/라고 써주자.
이번엔 chosenImage를 써야겠네. 백틱으로 바꾸고 chosenImage를 추가해서 string을 만들자

console.log 해볼까?

JS에서 html element를 생성했다.
당연히 랜덤한 string으로 이걸 만들어낸거고
다시 말하지만 내가 가진 imig폴더에 같은 이름으로 되어있지 않으면 제대로 동작하지 않는다.
무려 html img를 JS로. 방법은 너무 쉬웠다. 그냥 document.createElement만쓰면 되는거였다.
그러고 bgImage의 src를 설정했다.
HTML에서 <img src=“img/0.jpeg”/>이거 한거랑 같은걸 한건데, 이걸 JS가 해준다는거다.

마지막으로 우리가 해야할 일은 이 bgImage를 body내부에 추가해주는 것이다.
document.body의 appendChild()를 쓰도록 하자. appendChild()는 body에 html을 추가하는거다.

추가되는거 확인 가능.
작동확인.. 끝!!




